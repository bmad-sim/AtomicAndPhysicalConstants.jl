<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Setting Units: APCdef · AtomicAndPhysicalConstants.jl</title><meta name="title" content="Setting Units: APCdef · AtomicAndPhysicalConstants.jl"/><meta property="og:title" content="Setting Units: APCdef · AtomicAndPhysicalConstants.jl"/><meta property="twitter:title" content="Setting Units: APCdef · AtomicAndPhysicalConstants.jl"/><meta name="description" content="Documentation for AtomicAndPhysicalConstants.jl."/><meta property="og:description" content="Documentation for AtomicAndPhysicalConstants.jl."/><meta property="twitter:description" content="Documentation for AtomicAndPhysicalConstants.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AtomicAndPhysicalConstants.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Setting Units: APCdef</a><ul class="internal"><li><a class="tocitem" href="#@APCdef-Description"><span>@APCdef Description</span></a></li><li><a class="tocitem" href="#@APCdef-Syntax"><span>@APCdef Syntax</span></a></li><li><a class="tocitem" href="#Keyword-Parameters"><span>Keyword Parameters</span></a></li><li><a class="tocitem" href="#Unit-Systems"><span>Unit Systems</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li class="toplevel"><a class="tocitem" href="#Unitful"><span>Unitful</span></a></li><li><a class="tocitem" href="#Units"><span>Units</span></a></li><li><a class="tocitem" href="#Conversion-to-Float"><span>Conversion to Float</span></a></li><li><a class="tocitem" href="#Unit-Conversions"><span>Unit Conversions</span></a></li><li><a class="tocitem" href="#@APCdef-returning-Unitful-type"><span>@APCdef returning <code>Unitful</code> type</span></a></li><li class="toplevel"><a class="tocitem" href="#Package-specific-Unitful-Units"><span>Package-specific <code>Unitful</code> Units</span></a></li><li><a class="tocitem" href="#@APCdef-returning-DynamicQuantities.jl-type"><span>@APCdef returning DynamicQuantities.jl type</span></a></li></ul></li><li><a class="tocitem" href="../constants/">Constants</a></li><li><a class="tocitem" href="../species/">Species</a></li><li><a class="tocitem" href="../helper_functions/">Helper Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Setting Units: APCdef</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Setting Units: APCdef</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/bmad-sim/AtomicAndPhysicalConstants.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/bmad-sim/AtomicAndPhysicalConstants.jl/blob/main/docs/src/units.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Setting-Units-for-Constants-And-Particle-Functions-using-@APCdef"><a class="docs-heading-anchor" href="#Setting-Units-for-Constants-And-Particle-Functions-using-@APCdef">Setting Units for Constants And Particle Functions using @APCdef</a><a id="Setting-Units-for-Constants-And-Particle-Functions-using-@APCdef-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-Units-for-Constants-And-Particle-Functions-using-@APCdef" title="Permalink"></a></h1><h2 id="@APCdef-Description"><a class="docs-heading-anchor" href="#@APCdef-Description">@APCdef Description</a><a id="@APCdef-Description-1"></a><a class="docs-heading-anchor-permalink" href="#@APCdef-Description" title="Permalink"></a></h2><p><code>@APCdef</code> must be called during package initialization. It sets the units for physical constants,  species mass, and charge.  The macro also defines physical constants in the appropriate units and creates getter functions  for species mass and charge with appropriate units and data. See the <a href="../species/">Species</a> page for more details. <strong>Note</strong> <code>@APCdef</code> can only be called once.</p><p>Users can choose their preferred units for <code>mass</code>, <code>length</code>, <code>time</code>, <code>energy</code>, and <code>charge</code> using predefined unit systems: <code>ACCELERATOR</code> (default), <code>MKS</code>, or <code>CGS</code>. </p><p>Users can also specify whether constants should be of type <code>Float64</code> (default), <code>Unitful</code>,  or <code>Dynamic Quantities</code> for easier unit calculations. </p><p>All constants are stored in a named tuple, whose name can be customized (defaults to <code>APC</code>). For example, the default name for the speed of light is <code>APC.C_LIGHT</code>.</p><h2 id="@APCdef-Syntax"><a class="docs-heading-anchor" href="#@APCdef-Syntax">@APCdef Syntax</a><a id="@APCdef-Syntax-1"></a><a class="docs-heading-anchor-permalink" href="#@APCdef-Syntax" title="Permalink"></a></h2><pre><code class="language-julia hljs">@APCdef(name = APC, unitsystem = ACCELERATOR, unittype = Float)</code></pre><h2 id="Keyword-Parameters"><a class="docs-heading-anchor" href="#Keyword-Parameters">Keyword Parameters</a><a id="Keyword-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Keyword-Parameters" title="Permalink"></a></h2><ul><li><code>name</code> specifies the named tuple that stores the constants (default: <code>APC</code>).</li><li><code>unitsystem</code> sets the unit system for constants: <code>ACCELERATOR</code> (default), <code>MKS</code>, or <code>CGS</code>.</li><li><code>unittype</code> sets the constant type: <code>Float</code> (default), <code>Unitful</code>, or <code>DynamicQuantities</code>. </li></ul><p>This also determines the return type of both the named tuple and the <code>massof()</code> and <code>chargeof()</code> functions. See the <a href="https://github.com/SymbolicML/DynamicQuantities.jl"><code>DynamicQuantities.jl</code></a> documentation for a discussion of the difference between how <code>Unitful</code> and <code>DynamicQuatities</code> handle units. <strong>Note</strong>: setting the unit type to <code>DynamicQuantities</code> will return quantities only in SI units.</p><h2 id="Unit-Systems"><a class="docs-heading-anchor" href="#Unit-Systems">Unit Systems</a><a id="Unit-Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Systems" title="Permalink"></a></h2><ul><li><code>ACCELERATOR</code> units:<ul><li><code>mass</code>: eV/c^2</li><li><code>length</code>: m</li><li><code>time</code>: s</li><li><code>energy</code>: eV</li><li><code>charge</code>: elementary charge</li></ul></li><li><code>MKS</code> units:<ul><li><code>mass</code>: kg</li><li><code>length</code>: m</li><li><code>time</code>: s</li><li><code>energy</code>: J</li><li><code>charge</code>: C</li></ul></li><li><code>CGS</code> units:<ul><li><code>mass</code>: g</li><li><code>length</code>: cm</li><li><code>time</code>: s</li><li><code>energy</code>: J</li><li><code>charge</code>: C</li></ul></li><li>Users can also define their own units by creating a tuple of Unitful units.<ul><li>The tuple must be using the types in <code>Unitful</code></li><li>The tuple must have 5 elements</li><li>The elements must be ordered in “mass unit”, “length unit”, “time unit”, “energy unit”, and “charge unit”.</li></ul></li></ul><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><pre><code class="language-julia hljs">julia&gt; @APCdef  # Sets unit system to ACCELERATOR (default). define constants with type Float64.

julia&gt; APC.C_LIGHT  # Access the constant within the named tuple `APC`.
2.99792458e8        # Now the constant is defined with units m/s and type Float64.</code></pre><h1 id="Unitful"><a class="docs-heading-anchor" href="#Unitful">Unitful</a><a id="Unitful-1"></a><a class="docs-heading-anchor-permalink" href="#Unitful" title="Permalink"></a></h1><p><a href="https://github.com/PainterQubits/Unitful.jl">Unitful.jl</a> is a powerful package for managing physical units.  This package uses <code>Unitful</code> internally to store constants.</p><h2 id="Units"><a class="docs-heading-anchor" href="#Units">Units</a><a id="Units-1"></a><a class="docs-heading-anchor-permalink" href="#Units" title="Permalink"></a></h2><p>Unitful uses the macro <code>@u_str</code> to create units.</p><pre><code class="language-julia hljs">julia&gt; kg = u&quot;kg&quot;</code></pre><p>The variable <code>kg</code> represents the unit kilogram.</p><p>Creating constants with units is straightforward—simply write the number before the unit.</p><pre><code class="language-julia hljs">julia&gt; M = 1u&quot;kg&quot;</code></pre><p>Now <code>M</code> represents 1 kilogram.</p><h2 id="Conversion-to-Float"><a class="docs-heading-anchor" href="#Conversion-to-Float">Conversion to Float</a><a id="Conversion-to-Float-1"></a><a class="docs-heading-anchor-permalink" href="#Conversion-to-Float" title="Permalink"></a></h2><p>To convert a Unitful object to Float64, access the <code>.val</code> field.</p><pre><code class="language-julia hljs">julia&gt; a = 1.5u&quot;kg&quot;
julia&gt; a.val
1.5</code></pre><h2 id="Unit-Conversions"><a class="docs-heading-anchor" href="#Unit-Conversions">Unit Conversions</a><a id="Unit-Conversions-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Conversions" title="Permalink"></a></h2><p>Unitful provides a convenient way to create new units with expressions. You can also add prefixes directly.</p><pre><code class="language-julia hljs">julia&gt; m = 0.511u&quot;MeV/c^2&quot;</code></pre><p>To convert between units, use the <code>uconvert()</code> function with the target unit as the first parameter and the variable as the second.</p><pre><code class="language-julia hljs">julia&gt; uconvert(u&quot;kg&quot;,m)
9.109402419518556e-31 kg</code></pre><h2 id="@APCdef-returning-Unitful-type"><a class="docs-heading-anchor" href="#@APCdef-returning-Unitful-type">@APCdef returning <code>Unitful</code> type</a><a id="@APCdef-returning-Unitful-type-1"></a><a class="docs-heading-anchor-permalink" href="#@APCdef-returning-Unitful-type" title="Permalink"></a></h2><p>To use <code>Unitful</code>-typed constants, set <code>unittype</code> to <code>Unitful</code>.</p><pre><code class="language-julia hljs">julia&gt; @APCdef unittype = Unitful 

julia&gt; APC.C_LIGHT 
2.99792458e8 m s⁻¹ # Now the constant is a Unitful quantity.</code></pre><h1 id="Package-specific-Unitful-Units"><a class="docs-heading-anchor" href="#Package-specific-Unitful-Units">Package-specific <code>Unitful</code> Units</a><a id="Package-specific-Unitful-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Package-specific-Unitful-Units" title="Permalink"></a></h1><p><code>AtomicAndPhysicalConstants</code> defines three custom units not found in the <code>Unitful</code> package.  Users can access these units with the <code>@u_str</code> macro, just like standard <code>Unitful</code> units.</p><ul><li><code>amu</code>: It represents the atomic mass unit.</li><li><code>e</code>: It represents the elementary charge.</li><li><code>h_bar</code>: It represents the reduced Planck&#39;s constant. It is used as the unit for spin.</li></ul><h2 id="@APCdef-returning-DynamicQuantities.jl-type"><a class="docs-heading-anchor" href="#@APCdef-returning-DynamicQuantities.jl-type">@APCdef returning DynamicQuantities.jl type</a><a id="@APCdef-returning-DynamicQuantities.jl-type-1"></a><a class="docs-heading-anchor-permalink" href="#@APCdef-returning-DynamicQuantities.jl-type" title="Permalink"></a></h2><p><a href="https://github.com/SymbolicML/DynamicQuantities.jl">DynamicQuantities.jl</a> is another popular package for managing units. We also support returning constants in DynamicQuantities type.</p><pre><code class="language-julia hljs">julia&gt; @APCdef unittype = DynamicQuantities

julia&gt; APC.C_LIGHT 
2.99792458e8 m s⁻¹ # Now the constant is a DynamicQuantities quantity.</code></pre><p><strong>Note</strong>: setting the unit type to <code>DynamicQuantities</code> will return quantities only in <code>SI</code> units.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../constants/">Constants »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Thursday 22 May 2025 20:13">Thursday 22 May 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
